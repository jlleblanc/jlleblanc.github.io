<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb">

<head>
  <base href="" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="joomla, Joomla" />
  <meta name="title" content="Add To My Yahoo Module and Tutorial - Page 3" />
  <meta name="author" content="" />
  <meta name="description" content="i like code." />
  <meta name="generator" content="Joomla! 1.5 - Open Source Content Management" />
  <title>Add To My Yahoo Module and Tutorial - Page 3</title>
  <link href="http://jlleblanc.com/templates/blueprint/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <script type="text/javascript" src="http://jlleblanc.com/media/system/js/mootools.js"></script>
  <script type="text/javascript" src="http://jlleblanc.com/media/system/js/caption.js"></script>


<link rel="stylesheet" href="http://jlleblanc.com/templates/blueprint/css/blueprint/screen.css" type="text/css" media="screen, projection" />
<link rel="stylesheet" href="http://jlleblanc.com/templates/blueprint/css/blueprint/print.css" type="text/css" media="print" />
<!--[if lt IE 8]>
  <link rel="stylesheet" href="/templates/blueprint/css/blueprint/ie.css" type="text/css" media="screen, projection">
<![endif]-->
<link rel="stylesheet" href="http://jlleblanc.com/templates/blueprint/css/template.css" type="text/css" media="screen" />

<link rel="stylesheet" href="http://jlleblanc.com/templates/blueprint/dailymessage/dailymessage.css" type="text/css" media="screen" />
<script language="javascript" type="text/javascript" src="http://jlleblanc.com/templates/blueprint/dailymessage/jquery-latest.pack.js"></script>
<script type="text/javascript" charset="utf-8">
	jQuery.noConflict();
</script>
<script language="javascript" type="text/javascript" src="http://jlleblanc.com/templates/blueprint/dailymessage/dailymessage.js"></script>
</head>

<body>
	<div class="container" id="top_module">
		
	</div>
	<div id="logo"><img src="http://jlleblanc.com/templates/blueprint/img/jlleblanc.png" /></div>
	<div class="container">
		<div class="column span-6">
					<div class="moduletable_menu">
					<ul class="menu"><li class="item71"><a href="../index.html"><span>home</span></a></li><li class="item51"><a href="../joomla.html"><span>joomla</span></a></li><li class="item61"><a href="http://www.designvsdevelop.com"><span>blog</span></a></li><li class="item75"><a href="http://www.extool.org"><span>extool</span></a></li><li class="item72"><a href="../ministries.html"><span>ministries</span></a></li></ul>		</div>
			<div class="moduletable">
					<h3>Joomla Resources</h3>
					<ul class="menu"><li class="item52"><a href="../articles.html"><span>articles</span></a></li><li id="current" class="active item54"><a href="../tutorials.html"><span>tutorials</span></a></li><li class="item73"><a href="../podcast-suite.html"><span>podcast suite</span></a></li><li class="item76"><a href="../joomladay-giveaway.html"><span>joomladay giveaway</span></a></li></ul>		</div>
	
		</div>
		<div class="column last span-18">
			
<div id="page">



<h2 class="contentheading">
	Add To My Yahoo Module and Tutorial - Page 3</h2>



<p class="buttonheading">
	</p>





	<table cellpadding="0" cellspacing="0" class="contenttoc">
	<tr>
		<th>Article Index</th>
	</tr>
	
	<tr>
		<td>
		<a href="23-add-to-my-yahoo-module-and-tutorial.html" class="toclink">Add To My Yahoo Module and Tutorial</a>
		</td>
	</tr>
	
			<tr>
				<td>
				<a href="23-add-to-my-yahoo-module-and-tutorial%3Fstart=1.html" class="toclink">Page 2</a>
				</td>
			</tr>
			
			<tr>
				<td>
				<a href="23-add-to-my-yahoo-module-and-tutorial%3Fstart=2.html" class="toclink active">Page 3</a>
				</td>
			</tr>
			
		<tr>
			<td>
				<a href="23-add-to-my-yahoo-module-and-tutorial%3Fshowall=1.html" class="toclink">All Pages</a>
			</td>
		</tr>
		</table>
<div class="pagenavcounter">Page 3 of 3</div><br /><h1>mod_myyahoo.php</h1><br />This file is included when the module is acutally loaded.<br /><br /><span style="color: rgb(0, 0, 255);">&lt;?php</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">defined( '_VALID_MOS' ) or die( 'Direct Access to this location is not allowed.' );</span><br /><br />With any PHP source code in Mambo, it is necessary to make sure the code is actually running within Mambo. This enhances security.<br /><br /><span style="color: rgb(0, 0, 255);">global $mosConfig_live_site;</span><br /><br />This pulls the current site's url from Mambo's configuration file. It will be used below for building a link to the currently selected RSS feed.<br /><br /><span style="color: rgb(0, 0, 255);">$shortmessage = $params-&gt;get( 'shortmessage' );</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">$button = $params-&gt;get( 'button' );</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">$moduleclass_sfx = $params-&gt;get( 'moduleclass_sfx', '' );</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">$feed = $params-&gt;get( 'feed', 'RSS 0.91' );</span><br style="color: rgb(0, 0, 255);" /><br />Parameters defined in the XML file and set by the administrator are extracted into appropriate variables.<br /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">$feedurl = &quot;&quot;;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">switch( $feed )</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">{</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;RSS 0.91&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $feedurl = $mosConfig_live_site . '/index2.php?option=com_rss&amp;feed=RSS0.91&amp;no_html=1';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;RSS 1.0&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $feedurl = $mosConfig_live_site . '/index2.php?option=com_rss&amp;feed=RSS1.0&amp;no_html=1';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;RSS 2.0&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $feedurl = $mosConfig_live_site . '/index2.php?option=com_rss&amp;feed=RSS2.0&amp;no_html=1';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;Atom&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $feedurl = $mosConfig_live_site . '/index2.php?option=com_rss&amp;feed=ATOM0.3&amp;no_html=1';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; default:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $feedurl = $mosConfig_live_site . '/index2.php?option=com_rss&amp;feed=RSS0.91&amp;no_html=1';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">}</span><br /><br />Taking the value of the feed parameter and the site url, an apppropriate link is built. This link will be sent to My Yahoo! when the button is clicked.<br /><br /><span style="color: rgb(0, 0, 255);">$buttoncode = &quot;&quot;;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">switch( $button )</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">{</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;short&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $buttoncode = '&lt;img src=&quot;http://us.i1.yimg.com/us.yimg.com/i/us/my/addtomyyahoo6.gif&quot; width=&quot;89&quot; height=&quot;33&quot; border=&quot;0&quot;&gt;';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; case &quot;long&quot;:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $buttoncode = '&lt;img src=&quot;http://us.i1.yimg.com/us.yimg.com/i/us/my/addtomyyahoo4.gif&quot; width=&quot;91&quot; height=&quot;17&quot; border=&quot;0&quot;&gt;';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; default:</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; $buttoncode = '&lt;img src=&quot;http://us.i1.yimg.com/us.yimg.com/i/us/my/addtomyyahoo4.gif&quot; width=&quot;91&quot; height=&quot;17&quot; border=&quot;0&quot;&gt;';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; break;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">}</span><br /><br />Based on the chosen button, a link to the correct image on Yahoo's servers is built.<br /><br /><span style="color: rgb(0, 0, 255);">?&gt;</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&lt;div class=&quot;myyahoo&lt;?php echo $moduleclass_sfx;?&gt;&quot;&gt;</span><br /><br />A styled 'div' is generated using a custom class.<br /><br /><span style="color: rgb(0, 0, 255);">&lt;?php</span><br style="color: rgb(0, 0, 255);" /><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">if($shortmessage)</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">{</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; echo '&lt;div align=&quot;center&quot; class=&quot;myyahoo_text'&nbsp; . $moduleclass_sfx . '&quot;&gt;' . $shortmessage . '&lt;/div&gt;';</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">}</span><br /><br />When the administrator adds a short message through the appropriate parameter in the backend, it is displayed here.<br /><br /><span style="color: rgb(0, 0, 255);">?&gt;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; &lt;div align=&quot;center&quot;&gt;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; &lt;a href=&quot;&lt;?php echo 'http://add.my.yahoo.com/rss?url=' . $feedurl; ?&gt;&quot;&gt;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; &lt;?php echo $buttoncode ?&gt;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; &lt;/a&gt;</span><br style="color: rgb(0, 0, 255);" /><span style="color: rgb(0, 0, 255);">&nbsp;&nbsp;&nbsp; &lt;/div&gt;</span><br />&nbsp;&nbsp;&nbsp; <br />A nested 'div' centers the previously built button and the complete Add to My Yahoo! link is generated. When a visitor clicks this link, they are taken to My Yahoo! and guided through adding the newsfeed to their page. If they do not have a Yahoo! account, they will be prompted to create one.<br /><br /><span style="color: rgb(0, 0, 255);">&lt;/div&gt;</span><br /><br />Finishes the 'div' with an optional styled class.<br /><br />Download the complete Add to My Yahoo! module <a href="../mod_myyahoo.zip">here</a>. <br /><br /><div class="pagenavbar"><div><a href="23-add-to-my-yahoo-module-and-tutorial%3Fstart=1.html">&lt;&lt; Prev</a> - Next</div></div><br />

</div>

		</div>
	</div>
	<div class="container">
		
	</div>
</body>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2258922-1";
urchinTracker();
</script>
</html>
